{"version":3,"file":"connection-block/view.js","mappings":"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","sources":["webpack://WPshop/./blocks/src/utils/render.js","webpack://WPshop/external window [\"wp\",\"apiFetch\"]","webpack://WPshop/external window [\"wp\",\"data\"]","webpack://WPshop/external window [\"wp\",\"element\"]","webpack://WPshop/external window [\"wp\",\"i18n\"]","webpack://WPshop/external window \"ReactJSXRuntime\"","webpack://WPshop/webpack/bootstrap","webpack://WPshop/webpack/runtime/compat get default export","webpack://WPshop/webpack/runtime/define property getters","webpack://WPshop/webpack/runtime/hasOwnProperty shorthand","webpack://WPshop/webpack/runtime/make namespace object","webpack://WPshop/./blocks/src/connection-block/view.js"],"sourcesContent":["import { createRoot } from '@wordpress/element';\r\n\r\nexport function render( element, containerClass ) {\r\n    document.addEventListener( 'DOMContentLoaded', function() {\r\n        const container = document.querySelector( containerClass );\r\n        if ( ! container ) {\r\n            return;\r\n        }\r\n\r\n        const root = createRoot( container );\r\n        root.render( element );\r\n    });\r\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * Use this file for JavaScript code that you want to run in the front-end \r\n * on posts/pages that contain this block.\r\n *\r\n * When this file is defined as the value of the `viewScript` property\r\n * in `block.json` it will be enqueued on the front end of the site.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * {\r\n *   \"viewScript\": \"file:./view.js\"\r\n * }\r\n * ```\r\n *\r\n * If you're not making any changes to this file because your project doesn't need any \r\n * JavaScript running in the front-end, then you should delete this file and remove \r\n * the `viewScript` property from `block.json`. \r\n *\r\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\r\n */\r\n \r\nimport { render } from '../utils';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { useEffect, useState } from '@wordpress/element';\r\n\r\nimport { useSelect, useDispatch, use } from '@wordpress/data';\r\n\r\nimport apiFetch from '@wordpress/api-fetch';\r\n\r\nconst ConnectionBlock = ({ accountUrl }) => {\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    \r\n    // Login form states\r\n    const [loginCredentials, setLoginCredentials] = useState({\r\n        username: '',\r\n        password: '',\r\n        rememberMe: false,\r\n    });\r\n    \r\n    // Register form states\r\n    const [registerInfo, setRegisterInfo] = useState({\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        agreeTerms: false,\r\n    });\r\n\r\n    const handleLoginChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setLoginCredentials({\r\n            ...loginCredentials,\r\n            [name]: type === 'checkbox' ? checked : value,\r\n        });\r\n    };\r\n\r\n    const handleRegisterChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setRegisterInfo({\r\n            ...registerInfo,\r\n            [name]: type === 'checkbox' ? checked : value,\r\n        });\r\n    };\r\n\r\n    // Function to redirect to my-account page\r\n    const redirectToMyAccount = () => {\r\n        window.location.href = accountUrl || '/my-account'; // Use the accountUrl prop if available\r\n    };\r\n\r\n    const handleLoginSubmit = (e) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setError('');\r\n        \r\n        apiFetch({\r\n            path: 'wp-shop/v1/login',\r\n            method: 'POST',\r\n            data: {\r\n                username: loginCredentials.username,\r\n                password: loginCredentials.password,\r\n            },\r\n        }).then((response) => {\r\n            // Redirect to my-account page on successful login\r\n            redirectToMyAccount();\r\n        }).catch((error) => {\r\n            setError(error.message || __('Login failed. Please check your credentials.', 'wpshop'));\r\n        }).finally(() => {\r\n            setIsLoading(false);\r\n        });\r\n    };\r\n\r\n    const handleRegisterSubmit = (e) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n        setError('');\r\n        \r\n        // Validation\r\n        if (registerInfo.password !== registerInfo.confirmPassword) {\r\n            setError(__('Passwords do not match', 'wpshop'));\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        \r\n        if (!registerInfo.agreeTerms) {\r\n            setError(__('You must agree to the terms and conditions', 'wpshop'));\r\n            setIsLoading(false);\r\n            return;\r\n        }\r\n        \r\n        apiFetch({\r\n            path: 'wp-shop/v1/register',\r\n            method: 'POST',\r\n            data: {\r\n                username: registerInfo.username,\r\n                email: registerInfo.email,\r\n                password: registerInfo.password,\r\n            },\r\n        }).then((response) => {\r\n            // Reset form data\r\n            setRegisterInfo({\r\n                username: '',\r\n                email: '',\r\n                password: '',\r\n                confirmPassword: '',\r\n                agreeTerms: false,\r\n            });\r\n            // Redirect to my-account page on successful registration\r\n            redirectToMyAccount();\r\n        }).catch((error) => {\r\n            setError(error.message || __('Registration failed.', 'wpshop'));\r\n        }).finally(() => {\r\n            setIsLoading(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"wp-block-wpshop-connection-block\">\r\n            <div className=\"connection-container\">\r\n                <div className=\"connection-header\">\r\n                    <div className=\"connection-tabs\">\r\n                        <button \r\n                            className={`connection-tab ${isLogin ? 'active' : ''}`}\r\n                            onClick={() => setIsLogin(true)}\r\n                        >\r\n                            {__('Login', 'wpshop')}\r\n                        </button>\r\n                        <button \r\n                            className={`connection-tab ${!isLogin ? 'active' : ''}`}\r\n                            onClick={() => setIsLogin(false)}\r\n                        >\r\n                            {__('Register', 'wpshop')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"connection-content\">\r\n                    {error && (\r\n                        <div className=\"connection-error\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n                    \r\n                    {isLogin ? (\r\n                        <form className=\"login-form\" onSubmit={handleLoginSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"username\">{__('Username', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"username\"\r\n                                    name=\"username\"\r\n                                    value={loginCredentials.username}\r\n                                    onChange={handleLoginChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password\">{__('Password', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"password\"\r\n                                    name=\"password\"\r\n                                    value={loginCredentials.password}\r\n                                    onChange={handleLoginChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group checkbox-group\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    id=\"rememberMe\"\r\n                                    name=\"rememberMe\"\r\n                                    checked={loginCredentials.rememberMe}\r\n                                    onChange={handleLoginChange}\r\n                                />\r\n                                <label htmlFor=\"rememberMe\">{__('Remember me', 'wpshop')}</label>\r\n                            </div>\r\n                            \r\n                            <div className=\"form-actions\">\r\n                                <button type=\"submit\" className=\"submit-button\" disabled={isLoading}>\r\n                                    {isLoading ? __('Logging in...', 'wpshop') : __('Login', 'wpshop')}\r\n                                </button>\r\n                                <a href=\"#\" className=\"forgot-password\">\r\n                                    {__('Forgot your password?', 'wpshop')}\r\n                                </a>\r\n                            </div>\r\n                        </form>\r\n                    ) : (\r\n                        <form className=\"register-form\" onSubmit={handleRegisterSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"reg-username\">{__('Username', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    id=\"reg-username\"\r\n                                    name=\"username\"\r\n                                    value={registerInfo.username}\r\n                                    onChange={handleRegisterChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\">{__('Email', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    value={registerInfo.email}\r\n                                    onChange={handleRegisterChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"reg-password\">{__('Password', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"reg-password\"\r\n                                    name=\"password\"\r\n                                    value={registerInfo.password}\r\n                                    onChange={handleRegisterChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"confirm-password\">{__('Confirm Password', 'wpshop')}</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"confirm-password\"\r\n                                    name=\"confirmPassword\"\r\n                                    value={registerInfo.confirmPassword}\r\n                                    onChange={handleRegisterChange}\r\n                                    required\r\n                                />\r\n                            </div>\r\n                            \r\n                            <div className=\"form-group checkbox-group\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    id=\"agreeTerms\"\r\n                                    name=\"agreeTerms\"\r\n                                    checked={registerInfo.agreeTerms}\r\n                                    onChange={handleRegisterChange}\r\n                                    required\r\n                                />\r\n                                <label htmlFor=\"agreeTerms\">\r\n                                    {__('I agree to the Terms and Conditions', 'wpshop')}\r\n                                </label>\r\n                            </div>\r\n                            \r\n                            <div className=\"form-actions\">\r\n                                <button type=\"submit\" className=\"submit-button\" disabled={isLoading}>\r\n                                    {isLoading ? __('Registering...', 'wpshop') : __('Register', 'wpshop')}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nrender(<ConnectionBlock \r\n    accountUrl={document.getElementsByClassName('wp-block-wpshop-connection-block')[0].getAttribute('data-account-link')}\r\n/>, '.wp-block-wpshop-connection-block');\r\nexport default ConnectionBlock;\r\n"],"names":["createRoot","render","element","containerClass","document","addEventListener","container","querySelector","root","__","useEffect","useState","useSelect","useDispatch","use","apiFetch","jsx","_jsx","jsxs","_jsxs","ConnectionBlock","accountUrl","isLogin","setIsLogin","isLoading","setIsLoading","error","setError","loginCredentials","setLoginCredentials","username","password","rememberMe","registerInfo","setRegisterInfo","email","confirmPassword","agreeTerms","handleLoginChange","e","name","value","type","checked","target","handleRegisterChange","redirectToMyAccount","window","location","href","handleLoginSubmit","preventDefault","path","method","data","then","response","catch","message","finally","handleRegisterSubmit","className","children","onClick","onSubmit","htmlFor","id","onChange","required","disabled","getElementsByClassName","getAttribute"],"sourceRoot":""}